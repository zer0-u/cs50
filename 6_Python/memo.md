# week6 python

## 0213

### 講義動画
- ここからpythonを学ぶ
  - 多少は知っている言語なので気が楽かもしれない
- printはデフォルトで改行を行う
- フォーマット文字列の書き方は比較的新しい書き方
  - f'hello, {answer}'
  - python 3.6から
- pythonは型を指定しない
- セミコロンもいらない
- pythonにはインクリメント(++)やデクリメント(--)がない
- ブール値の先頭は大文字(True / False)
- for文にはrange関数を渡すことが多い
  - 引数を使って細かくカスタマイズできる
- pythonの型
  - bool, float, int ,str(string)
  - range, list, tuple, dict, set,...
- import文の使い方
  - 関数を限定したimportも可能

## 0219

### 講義動画(22:10)
- pythonにインクリメント演算子がない理由
  - 歴史上の事情？
  - シンプルさを重要視する傾向にあるかもしれない
- pythonのコードの書き方と実行方法
  - python ファイル名
- pythonには明示的なコンパイルが存在しない(インタプリタ)
- blur.pyを写経している
  - ちゃんと動くのかな？
  - stadium.bmpは4週目のpsetからコピーしてきた
- オブジェクト指向は値の他に機能も同じカプセルを収める
- フォルダ構造をなるべく動画と揃える(filterフォルダ)
- 動いた気がする
  - BoxBlurの引数を大きい数にしたら差がはっきり分かった
- PILはPillowの略？(31:59)

## 0220

### 講義動画(33:13)
- spellerをpythonに置き換える
- speller.cに相当するファイルは配布されたらしい
  - どこにあるんだろう(後で調べる)
- rstrip関数は文字列から改行文字を取り除いてくれる
- dictのキーに相当するものはどうやって決めるんだろう
- mallocとfreeは使わない(pythonが自動的に管理している)ので、unload関数では何も行わない
- dictは例として出しただけで、実際はsetを使うっぽい？(36:52)
- 配布コードは2023版からzipを落としてきた
  - https://cs50.harvard.edu/x/2023/weeks/6/
- C言語版より時間がかかる(3秒vs11秒)
  - 書きやすさと速度のトレードオフ
- pythonを高速化する方法もあるはず
  - 中間結果を保存する機能がある
- 新しい言語を使うことのポイントは、他の人が実現してくれた抽象化を活用するところにある
- pythonはコンパイルできるか
  - 内部でコンパイルは行われている
  - コンパイルは開発者の関心事から外れている

### 講義動画(45:18)
- これまでCで書いたものをPythonに置き換える
- なぜか突然別のターミナルで対話型のコマンドが動き始めたので閉じた
- python hello1.pyをしてからWhat's your nameが出るまでちょっと間がある
  - 入力が割り込んでも結果は正しく出る
- pythonにはmain関数がない
- get_stringという補助輪を取り除く(hello2.py)
  - get_stringをinputに置き換える
  - 現時点では全く同じ働き
- 新しいファイルを作るとなぜか対話型コマンドが動いてしまう
- import cs50 に置き換える(すべての関数をインポートする)とうまくいかない
- トレースバック＝スタックトレース
- pythonは名前空間と呼ばれるようなものをサポートしている
  - Javaでいうパッケージのようなもの？
- import cs50だけにする場合、get_intの前にcs50.と付けて名前空間を明示しなければならない
- 明示してインポートするか、全部インポートして名前空間を示すかはインポートしたい関数の数による
- get_intを取り除く(calculator0_1.py)
  - get_intもinputに置き換える
  - 文字列として認識されてしまう(1+2が3ではなく12になる)
  - int型へのキャストを行う(intは関数のようなもの)
- 意地悪に文字列を入力すると例外が発生する(トレースバックが表示される)
- 例外に対処する
  - tryとexcept
  - cs50ライブラリのget_intでは内部でtry/exceptを行っている
- exceptの後ろにエラーの名前を指定できる
  - except ValueError: で値の変換に失敗した時のみ実行される
  - 今は深入りしない(cs50ライブラリに頼る)
- 夜が更けてきたので今日はここまで(59:00頃)

## 0221

### 講義動画(59:00)
- 割り算を行うプログラム(calculator1.py)
- 割り切れない数を指定すると結果の型は浮動小数点型と推測される
  - 余り部分を切り捨てない
  - 切り捨てたい場合は/ではなく//を使う
- 有効桁数を増やす
  - f"{z:.50f}" ←50桁
- 浮動小数点数の不正確性はそのまま残っている
- pythonのコメントは//ではなく#
- points.pyを作る
  - points.cの焼き直しらしいがもともとのファイルがわからない
  - 整数を入力してifで分岐しているっぽい
- parity.pyを作る
- 剰余演算子%は同じ
- なんか見たことないソースコードがたくさん出てくる
  - 覚えていないだけ？
  - 難しい内容ではない(入力値に応じた分岐)
- pythonにcharはない
  - stringに含まれている
  - ダブルクオートとシングルクオートは同じ意味を持つ
- 「または」は || ではなく or
- 選択肢を増やしたい
  - Y, y, yes, YESなどをすべて同じように扱いたい
- リストを使う
  - s in [候補リスト]
- s.lower()として大文字・小文字の差を無視すると候補リストが短くなる
- s.lower()の別の変数として独立させる
  - 再代入すればよい
  - またはget_stringの戻り値に直接.lower()をつける
- pythonにおける文字列は文字の配列ではないのか？
  - 文字列はオブジェクトになっている
  - 文字列はイミュータブル
  - 変更を加えたものは新たな文字列として生成される

### 講義動画(1:13:14)
- 繰り返し処理を実装する
  - meow.py
- meowを関数に分離する(meow1.py)
- 宣言より先に呼び出そうとするとNameErrorが発生する
  - 順序を入れ替えれば簡単に解決できるが賢いとは言えない
- main関数を導入するとNameErrorは解決するが何も表示されなくなる
  - 宣言だけして呼び出さなかったから
- pythonにおけるmain関数は単なる慣習
  - 最後に呼び出す必要がある
  - インタプリタがすべての関数を読み込んだ後に実行される
- if __name__ == "__main__" といったものはライブラリの問題を解決するためにある
  - 今は特に必要ないので書かない
- meow関数に引数を持たせる
- pythonにおける変数のスコープ
  - 定数がない
  - 基本的には関数スコープ
  - どの関数にも属さない位置に宣言すればグローバル変数とみなされる
    - いくつか注意事項がある(後述)
- イミュータブルなのでメモリは多く使うが、そのあたりはpythonが管理してくれるので気にしなくて良い
- mario.pyを作る
- すごく速いんだけど手を動かしながら見るものでもないんだろうか